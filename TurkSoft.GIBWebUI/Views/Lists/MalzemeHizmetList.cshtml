@{
    ViewData["Title"] = "Malzeme/Hizmet Listesi";
    ViewData["Subtitle"] = "Listeler";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="content-header">
    <h1>
        Listeler
        <small>Malzeme/Hizmet Listesi</small>
    </h1>
    <ol class="breadcrumb">
        <li><a asp-controller="Home" asp-action="Index"><i class="fa fa-home"></i> Anasayfa</a></li>
        <li>Listeler</li>
        <li class="active">Malzeme/Hizmet Listesi</li>
    </ol>
</section>

<section class="content">
    <div class="box box-primary">
        <div class="box-header with-border d-flex justify-content-between align-items-center">
            <div>
                <input type="text" id="fltCode" class="form-control input-sm" placeholder="Koda göre ara" style="display:inline-block;width:150px;">
                <input type="text" id="fltName" class="form-control input-sm" placeholder="Ada göre ara" style="display:inline-block;width:200px;">
                <button id="btnFilter" class="btn btn-sm btn-info"><i class="fa fa-search"></i> Filtrele</button>
            </div>
            <button id="btnNewItem" class="btn btn-sm btn-success"><i class="fa fa-plus"></i> Yeni Ürün Ekle</button>
        </div>
        <div class="box-body">
            <table id="grid_items" class="table table-bordered table-hover dataTable">
                <thead>
                    <tr>
                        <th>Kodu</th>
                        <th>Adı</th>
                        <th>Birim</th>
                        <th>KDV Oranı</th>
                        <th>Fiyat</th>
                        <th style="width:100px;">İşlemler</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</section>

<!-- Yeni Ürün Modal -->
<!-- Yeni Ürün Modal (Bootstrap 3 uyumlu, Item.cs + tabloya göre tam) -->
<div class="modal fade" id="mdlItem" tabindex="-1" role="dialog" aria-labelledby="mdlItemLabel">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <form id="frmItem">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Kapat">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="mdlItemLabel">Yeni Ürün / Hizmet</h4>
                </div>

                <div class="modal-body">
                    <input type="hidden" id="itmId" />

                    <div class="form-group">
                        <label for="itmCode">Kodu</label>
                        <input type="text" class="form-control" id="itmCode" maxlength="50" required />
                    </div>

                    <div class="form-group">
                        <label for="itmName">Adı</label>
                        <input type="text" class="form-control" id="itmName" maxlength="150" required />
                    </div>

                    <div class="form-group">
                        <label for="itmBrand">Marka</label>
                        <input type="text" class="form-control" id="itmBrand" placeholder="Örn: TurkSoft" />
                    </div>

                    <div class="form-group">
                        <label for="itmUnit">Birim</label>
                        <input type="text" class="form-control" id="itmUnit" placeholder="Örn: Adet, Paket..." />
                    </div>

                    <div class="form-group">
                        <label for="itmVatRate">KDV Oranı</label>
                        <select class="form-control" id="itmVatRate">
                            <option value="0">%0</option>
                            <option value="1">%1</option>
                            <option value="8">%8</option>
                            <option value="10">%10</option>
                            <option value="18" selected>%18</option>
                            <option value="20">%20</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="itmPrice">Fiyat</label>
                        <input type="number" class="form-control" id="itmPrice" step="0.01" min="0" required />
                    </div>

                    <div class="form-group">
                        <label for="itmCurrency">Para Birimi</label>
                        <select class="form-control" id="itmCurrency">
                            <option value="TRY">TRY (TL)</option>
                            <option value="USD">USD ($)</option>
                            <option value="EUR">EUR (€)</option>
                        </select>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary"><i class="fa fa-save"></i> Kaydet</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Kapat</button>
                </div>
            </form>
        </div>
    </div>
</div>


@section Scripts {

    <script type="module" src="~/apps/malzemehizmetlist.js"></script>
}
